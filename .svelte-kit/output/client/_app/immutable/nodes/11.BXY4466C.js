import"../chunks/DsnmJJEf.js";import{e as sa,p as da,f as c,a as g,b as oa,s,c as a,r as t,h as ia,i as la,g as l,t as f,d as m}from"../chunks/D_zEB1TM.js";import{i as p}from"../chunks/CYQBSB63.js";import{e as na,i as ga}from"../chunks/CIznRJTs.js";import{a as ca,e as va}from"../chunks/CgiePsJ1.js";import{s as z,r as ma,a as ba}from"../chunks/DvXjWyV5.js";var xa=c('<a href="/mahasiswa/create" class="bg-primary text-white font-medium text-sm px-6 py-3 rounded-xl shadow-lg hover:bg-orange-600 transition-all flex items-center justify-center group"><span class="material-symbols-outlined mr-2 text-lg group-hover:rotate-90 transition-transform">add</span> Tambah Mahasiswa</a>'),ya=c('<img class="w-full h-full object-cover"/>'),pa=c('<span class="material-symbols-outlined text-gray-400">person</span>'),ua=c('<div class="flex justify-center items-center space-x-2 opacity-0 group-hover:opacity-100 transition-opacity"><a class="p-2 text-gray-400 hover:text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-lg transition-colors" title="Edit"><span class="material-symbols-outlined text-lg">edit</span></a> <form action="?/delete" method="POST" class="inline"><input type="hidden" name="nim"/> <button type="submit" class="p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors" title="Delete"><span class="material-symbols-outlined text-lg">delete</span></button></form></div>'),fa=c('<tr class="hover:bg-gray-50 dark:hover:bg-gray-700/30 transition-colors group"><td class="p-6"><div class="w-12 h-12 bg-gray-100 dark:bg-gray-700 rounded-full border border-gray-200 dark:border-gray-600 flex items-center justify-center overflow-hidden"><!></div></td><td class="p-6 font-mono font-bold text-primary"> </td><td class="p-6 font-medium text-gray-900 dark:text-white"> </td><td class="p-6 text-gray-500 dark:text-gray-400"> </td><td class="p-6 text-gray-500 dark:text-gray-400"> </td><td class="p-6 text-gray-500 dark:text-gray-400"> </td><td class="p-6"><!></td></tr>'),ha=c('<tr><td class="p-12 text-center text-gray-500" colspan="7"><div class="flex flex-col items-center justify-center"><span class="material-symbols-outlined text-4xl text-gray-300 mb-2">face_retouching_off</span> <p>Tidak ada data mahasiswa ditemukan.</p></div></td></tr>'),_a=c('<div class="mt-8 flex justify-center gap-2"><button class="px-4 py-2 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg text-sm font-medium text-gray-600 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors">Previous</button> <span class="px-4 py-2 bg-gray-100 dark:bg-gray-800/50 rounded-lg text-sm font-medium text-gray-600 dark:text-gray-400"> </span> <button class="px-4 py-2 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg text-sm font-medium text-gray-600 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors">Next</button></div>'),ka=c('<div class="relative z-10 max-w-[1440px] mx-auto px-4 md:px-6 py-8 md:py-12"><div class="flex flex-col md:flex-row md:items-end justify-between mb-8 gap-4"><div><h1 class="font-display text-4xl md:text-5xl font-bold text-gray-900 dark:text-white tracking-tight mb-2">Daftar <span class="text-primary">Mahasiswa</span></h1> <p class="text-gray-500 text-sm md:text-base max-w-2xl">Manajemen data mahasiswa, fakultas, dan program studi.</p></div> <div class="flex flex-col sm:flex-row gap-3"><!></div></div> <div class="bg-white/80 dark:bg-gray-800/80 backdrop-blur-md rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700 overflow-hidden"><div class="overflow-x-auto"><table class="w-full text-left border-collapse"><thead><tr class="bg-gray-50 dark:bg-gray-700/50 text-gray-500 dark:text-gray-300 text-xs font-semibold uppercase tracking-wider border-b border-gray-100 dark:border-gray-700"><th class="p-6">Foto</th><th class="p-6">NIM</th><th class="p-6">Nama Lengkap</th><th class="p-6">Fakultas</th><th class="p-6">Prodi</th><th class="p-6">Angkatan</th><th class="p-6 text-center">Aksi</th></tr></thead><tbody class="divide-y divide-gray-100 dark:divide-gray-700/50 text-sm"><!></tbody></table></div></div> <!></div>');function Ta(q,r){da(r,!0);const h=20;var _=ka(),k=a(_),E=s(a(k),2),B=a(E);{var C=e=>{var o=xa();g(e,o)};p(B,e=>{r.data.user?.role==="admin"&&e(C)})}t(E),t(k);var w=s(k,2),H=a(w),I=a(H),L=s(a(I)),G=a(L);{var J=e=>{var o=ia(),b=la(o);na(b,17,()=>r.data.mahasiswa,ga,(x,d)=>{var v=fa(),y=a(v),u=a(y),U=a(u);{var V=i=>{var n=ya();f(()=>{z(n,"src",l(d).foto),z(n,"alt",l(d).nama_mahasiswa)}),g(i,n)},W=i=>{var n=pa();g(i,n)};p(U,i=>{l(d).foto?i(V):i(W,!1)})}t(u),t(y);var j=s(y),X=a(j,!0);t(j);var M=s(j),Y=a(M,!0);t(M);var P=s(M),Z=a(P,!0);t(P);var D=s(P),$=a(D,!0);t(D);var N=s(D),aa=a(N,!0);t(N);var O=s(N),ta=a(O);{var ra=i=>{var n=ua(),S=a(n),T=s(S,2),A=a(T);ma(A);var ea=s(A,2);ea.__click=F=>{confirm("Hapus data mahasiswa ini?")||F.preventDefault()},t(T),ca(T,F=>va?.(F)),t(n),f(()=>{z(S,"href",`/mahasiswa/${l(d).nim??""}/edit`),ba(A,l(d).nim)}),g(i,n)};p(ta,i=>{r.data.user?.role==="admin"&&i(ra)})}t(O),t(v),f(()=>{m(X,l(d).nim),m(Y,l(d).nama_mahasiswa),m(Z,l(d).fakultas),m($,l(d).prodi),m(aa,l(d).angkatan)}),g(x,v)}),g(e,o)},K=e=>{var o=ha();g(e,o)};p(G,e=>{r.data.mahasiswa&&r.data.mahasiswa.length>0?e(J):e(K,!1)})}t(L),t(I),t(H),t(w);var Q=s(w,2);{var R=e=>{var o=_a(),b=a(o);b.__click=()=>window.location.href=`?page=${r.data.page-1}`;var x=s(b,2),d=a(x);t(x);var v=s(x,2);v.__click=()=>window.location.href=`?page=${r.data.page+1}`,t(o),f((y,u)=>{b.disabled=r.data.page<=1,m(d,`Page ${r.data.page??""} of ${y??""}`),v.disabled=u},[()=>Math.ceil(r.data.count/h),()=>r.data.page>=Math.ceil(r.data.count/h)]),g(e,o)};p(Q,e=>{Math.ceil(r.data.count/h)>1&&e(R)})}t(_),g(q,_),oa()}sa(["click"]);export{Ta as component};
