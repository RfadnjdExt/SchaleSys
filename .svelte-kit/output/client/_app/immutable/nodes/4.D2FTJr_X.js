import"../chunks/DsnmJJEf.js";import{i as ke}from"../chunks/DzRt-7dB.js";import{e as we,p as De,l as V,j as Pe,f as c,t as m,c as r,g as e,a as v,b as Ae,k as _,s as n,m as x,o as h,u as d,r as s,q as ae,n as te,d as y,h as re,i as se}from"../chunks/D_zEB1TM.js";import{i as Y}from"../chunks/CYQBSB63.js";import{e as z,i as E}from"../chunks/CIznRJTs.js";import{a as oe,e as ie}from"../chunks/CgiePsJ1.js";import{r as Le,a as Me}from"../chunks/DvXjWyV5.js";import{b as ne}from"../chunks/B07tQaqf.js";import{p as de}from"../chunks/DwwvudJH.js";var Ke=c('<div class="bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative" role="alert"><span class="block sm:inline"> </span></div>'),Te=c('<div class="bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded relative" role="alert"><span class="block sm:inline">Aksi berhasil.</span></div>'),qe=c("<option> </option>"),Se=c("<option> </option>"),Be=c('<tr class="hover:bg-gray-50 transition-colors"><td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900"> </td><td class="px-6 py-4 whitespace-nowrap text-sm text-gray-600"> </td><td class="px-6 py-4 whitespace-nowrap text-right text-sm font-medium"><form action="?/delete" method="POST" class="inline"><input type="hidden" name="id_pengampu"/> <button type="submit" class="text-red-600 hover:text-red-900 flex justify-end items-center gap-1 ml-auto"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg> Hapus</button></form></td></tr>'),He=c('<tr><td colspan="3" class="px-6 py-8 text-center text-gray-500 italic">Belum ada dosen yang ditugaskan.</td></tr>'),Ne=c('<div class="max-w-7xl mx-auto px-4 py-8"><div class="mb-6"><!></div> <div class="grid grid-cols-1 lg:grid-cols-3 gap-8"><div class="lg:col-span-1"><div class="bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden sticky top-8"><div class="bg-linear-to-r from-blue-600 to-indigo-700 px-6 py-4"><h1 class="text-xl font-bold text-white">Tugaskan Dosen</h1></div> <div class="p-6"><form action="?/assign" method="POST" class="space-y-5"><div><label for="nip_dosen" class="block text-sm font-medium text-gray-700 mb-2">Pilih Dosen</label> <select id="nip_dosen" name="nip_dosen" class="w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-200 focus:ring-opacity-50 py-2 px-3 bg-white border" required><option>-- Pilih Dosen --</option><!></select></div> <div><label for="kode_matkul" class="block text-sm font-medium text-gray-700 mb-2">Pilih Mata Kuliah</label> <select id="kode_matkul" name="kode_matkul" class="w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-200 focus:ring-opacity-50 py-2 px-3 bg-white border" required><option>-- Pilih Mata Kuliah --</option><!></select></div> <button type="submit" class="w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200">Tugaskan</button></form> <div class="mt-4 pt-4 border-t border-gray-200"><a href="/dosen" class="text-blue-600 hover:text-blue-800 text-sm">Kembali ke Daftar Dosen</a></div></div></div></div> <div class="lg:col-span-2"><div class="bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden"><div class="bg-gray-50 border-b border-gray-200 px-6 py-4"><h2 class="text-lg font-bold text-gray-800">Daftar Dosen Pengampu Saat Ini</h2></div> <div class="overflow-x-auto"><table class="min-w-full divide-y divide-gray-200"><thead class="bg-gray-50"><tr><th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Nama Dosen</th><th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Mata Kuliah Diampu</th><th scope="col" class="px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider">Aksi</th></tr></thead><tbody class="bg-white divide-y divide-gray-200"><!></tbody></table></div></div></div></div></div>');function Ge(le,k){De(k,!1);const w=h(),D=h(),g=h();let p=de(k,"data",8),u=de(k,"form",8),P=h(""),A=h("");function F(a,t){return Array.isArray(a)&&a.length>0?a[0][t]:a?.[t]}V(()=>_(p()),()=>{x(w,p().dosenList)}),V(()=>_(p()),()=>{x(D,p().mkList)}),V(()=>_(p()),()=>{x(g,p().assignments)}),Pe(),ke();var L=Ne(),M=r(L),ve=r(M);{var ce=a=>{var t=Ke(),o=r(t),l=r(o,!0);s(o),s(t),m(()=>y(l,(_(u()),d(()=>u().error)))),v(a,t)},pe=a=>{var t=re(),o=se(t);{var l=i=>{var f=Te();v(i,f)};Y(o,i=>{_(u()),d(()=>u()?.success)&&i(l)},!0)}v(a,t)};Y(ve,a=>{_(u()),d(()=>u()?.error)?a(ce):a(pe,!1)})}s(M);var G=n(M,2),K=r(G),J=r(K),Q=n(r(J),2),T=r(Q),q=r(T),S=n(r(q),2);m(()=>{e(P),ae(()=>{e(w)})});var B=r(S);B.value=B.__value="";var ue=n(B);z(ue,1,()=>e(w),E,(a,t)=>{var o=qe(),l=r(o,!0);s(o);var i={};m(()=>{y(l,(e(t),d(()=>e(t).nama_dosen))),i!==(i=(e(t),d(()=>e(t).nip)))&&(o.value=(o.__value=(e(t),d(()=>e(t).nip)))??"")}),v(a,o)}),s(S),s(q);var R=n(q,2),H=n(r(R),2);m(()=>{e(A),ae(()=>{e(D)})});var N=r(H);N.value=N.__value="";var me=n(N);z(me,1,()=>e(D),E,(a,t)=>{var o=Se(),l=r(o,!0);s(o);var i={};m(()=>{y(l,(e(t),d(()=>e(t).nama_mk))),i!==(i=(e(t),d(()=>e(t).kode_mk)))&&(o.value=(o.__value=(e(t),d(()=>e(t).kode_mk)))??"")}),v(a,o)}),s(H),s(R),te(2),s(T),oe(T,a=>ie?.(a)),te(2),s(Q),s(J),s(K);var U=n(K,2),W=r(U),X=n(r(W),2),Z=r(X),$=n(r(Z)),_e=r($);{var ge=a=>{var t=re(),o=se(t);z(o,1,()=>e(g),E,(l,i)=>{var f=Be(),O=r(f),be=r(O,!0);s(O);var j=n(O),xe=r(j,!0);s(j);var ee=n(j),C=r(ee),I=r(C);Le(I);var he=n(I,2);he.__click=b=>!confirm("Yakin hapus penugasan ini?")&&b.preventDefault(),s(C),oe(C,b=>ie?.(b)),s(ee),s(f),m((b,ye)=>{y(be,b),y(xe,ye),Me(I,(e(i),d(()=>e(i).id_pengampu)))},[()=>(e(i),d(()=>F(e(i).dosen,"nama_dosen"))),()=>(e(i),d(()=>F(e(i).mata_kuliah,"nama_mk")))]),v(l,f)}),v(a,t)},fe=a=>{var t=He();v(a,t)};Y(_e,a=>{e(g),d(()=>e(g)&&e(g).length>0)?a(ge):a(fe,!1)})}s($),s(Z),s(X),s(W),s(U),s(G),s(L),ne(S,()=>e(P),a=>x(P,a)),ne(H,()=>e(A),a=>x(A,a)),v(le,L),Ae()}we(["click"]);export{Ge as component};
